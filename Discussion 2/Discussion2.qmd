---
title: "Discussion 2"
format: pdf
editor: visual
---

\`\`\`{library(tidyverse)} library(haven) micro \<- read_dta("cps_00001.dta")

filtered \<- micro \|\> \# Restrict to people working more than 50 weeks per year \# Based on documentation, 6 is coded for those who worked \# between 50-52 weeks filter(wkswork2 == 6) \|\> \# Restrict to people earning between 0 and 99999998 filter(incwage \> 0 & incwage \< 99999998)

summarized \<- filtered \|\> group_by(year) \|\> summarise( p10 = Hmisc::wtd.quantile(x = incwage, weights = asecwt, probs = 0.1), p50 = Hmisc::wtd.quantile(x = incwage, weights = asecwt, probs = 0.5), p90 = Hmisc::wtd.quantile(x = incwage, weights = asecwt, probs = 0.9) )

pivoted \<- summarized \|\> pivot_longer(cols = c("p10", "p50", "p90"), names_to = "quantity", values_to = "income")

inflation \<- read_csv("https://info3370.github.io/data/inflation.csv")

joined \<- pivoted \|\> left_join(inflation, by = join_by(year))

adjusted_data \<- joined \|\> mutate(income = income \* inflation_factor) \`\`\`
